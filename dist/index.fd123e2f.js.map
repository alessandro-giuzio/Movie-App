{"mappings":"AAAA,KAAK,CAAC,kBAAkB,IAAI,CAAC,CAC3B,IAAI,GACJ,YAAY,GACZ,cAAc,GACd,UAAU,GACV,SAAS,IACX,CAAC,GAAK,CAAC;IACL,IAAI,CAAC,SAAS,IAAI;;;;;;;;IAQhB;IAEF,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC,aAAa,CAAC,CAAO;IACxC,KAAK,CAAC,QAAQ,GAAG,IAAI,CAAC,aAAa,CAAC,CAAW;IAC/C,KAAK,CAAC,cAAc,GAAG,IAAI,CAAC,aAAa,CAAC,CAAU;IAEpD,KAAK,CAAC,OAAO,UAAS,KAAK,GAAI,CAAC;QAC9B,KAAK,CAAC,KAAK,GAAG,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,MAAM,CAAC,KAAK;QAEhD,EAAE,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC;YAClB,QAAQ,CAAC,SAAS,CAAC,MAAM,CAAC,CAAW;YACrC,MAAM;QACR,CAAC;QAED,cAAc,CAAC,SAAS,GAAG,CAAE;QAC7B,QAAQ,CAAC,SAAS,CAAC,GAAG,CAAC,CAAW;QAClC,GAAG,EAAE,GAAG,CAAC,IAAI,IAAI,KAAK,CAAE,CAAC;YACvB,KAAK,CAAC,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,CAAG;YAEzC,MAAM,CAAC,SAAS,CAAC,GAAG,CAAC,CAAe;YACpC,MAAM,CAAC,SAAS,GAAG,YAAY,CAAC,IAAI;YACpC,MAAM,CAAC,gBAAgB,CAAC,CAAO,YAAQ,CAAC;gBACtC,QAAQ,CAAC,SAAS,CAAC,MAAM,CAAC,CAAW;gBACrC,KAAK,CAAC,KAAK,GAAG,UAAU,CAAC,IAAI;gBAC7B,cAAc,CAAC,IAAI;YACrB,CAAC;YAED,cAAc,CAAC,WAAW,CAAC,MAAM;QACnC,CAAC;IACH,CAAC;IACD,KAAK,CAAC,gBAAgB,CAAC,CAAO,QAAE,QAAQ,CAAC,OAAO,EAAE,GAAG;IAErD,QAAQ,CAAC,gBAAgB,CAAC,CAAO,SAAE,KAAK,GAAI,CAAC;QAC3C,EAAE,GAAG,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,MAAM,GAC7B,QAAQ,CAAC,SAAS,CAAC,MAAM,CAAC,CAAW;IAEzC,CAAC;AACH,CAAC","sources":["src/autocomplete.js"],"sourcesContent":["const createAutocomplete = ({\n  root,\n  renderOption,\n  onOptionSelect,\n  inputValue,\n  fetchData,\n}) => {\n  root.innerHTML = `\n      <label><b>Search</b></label>\n      <input class=\"input\" />\n      <div class=\"dropdown\">\n        <div class=\"dropdown-menu\">\n          <div class=\"dropdown-content results\"></div>\n        </div>\n      </div>\n    `;\n\n  const input = root.querySelector('input');\n  const dropdown = root.querySelector('.dropdown');\n  const resultsWrapper = root.querySelector('.results');\n\n  const onInput = async event => {\n    const items = await fetchData(event.target.value);\n\n    if (!items.length) {\n      dropdown.classList.remove('is-active');\n      return;\n    }\n\n    resultsWrapper.innerHTML = '';\n    dropdown.classList.add('is-active');\n    for (let item of items) {\n      const option = document.createElement('a');\n\n      option.classList.add('dropdown-item');\n      option.innerHTML = renderOption(item);\n      option.addEventListener('click', () => {\n        dropdown.classList.remove('is-active');\n        input.value = inputValue(item);\n        onOptionSelect(item);\n      });\n\n      resultsWrapper.appendChild(option);\n    }\n  };\n  input.addEventListener('input', debounce(onInput, 500));\n\n  document.addEventListener('click', event => {\n    if (!root.contains(event.target)) {\n      dropdown.classList.remove('is-active');\n    }\n  });\n};\n"],"names":[],"version":3,"file":"index.fd123e2f.js.map","sourceRoot":"/__parcel_source_root/"}